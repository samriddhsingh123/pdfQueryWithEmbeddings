package com.pdfQuery.example.utils;

import org.apache.pdfbox.pdmodel.PDDocument;
import org.apache.pdfbox.text.PDFTextStripper;
import org.springframework.stereotype.Component;
import java.io.File;
import java.io.IOException;

@Component
public class PdfProcessor {

    // This method will extract text from a given PDF file
    public String extractText(String filePath) throws IOException {
        PDDocument document = null;
        String extractedText = "";

        try {
            document = PDDocument.load(new File(filePath)); // Load the PDF document
            PDFTextStripper pdfStripper = new PDFTextStripper(); // Use PDFTextStripper to extract text
            extractedText = pdfStripper.getText(document); // Extract text from the document
        } finally {
            if (document != null) {
                document.close(); // Make sure to close the document after processing
            }
        }

        return extractedText; // Return the extracted text
    }
}
